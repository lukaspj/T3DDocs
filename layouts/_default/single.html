{{ define "main" }}
    {{ if not (.Page.Scratch.Get "mermaid") }}
        <!-- Include mermaid only first time -->
        <script defer src="{{ index .Site.Data.assets "js/mermaid.min.js" | relURL }}"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function(event) {
                mermaid.initialize({
                    flowchart: { useMaxWidth: true }
                });
            });
        </script>
        {{ .Page.Scratch.Set "mermaid" true }}
    {{ end }}
        
    {{ partial "page-header" . }}

    <article class="gdoc-markdown">
        <h1>{{ partial "title" . }}</h1>
        {{ partial "content" . }}
    </article>
{{ end }}
